<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Feedback - Ella Rises</title>
    
    <!-- Fonts matching your events page -->
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">

    <style>
        /* Custom tweaks for the rating scales */
        .rating-label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: block;
        }
        .scale-labels {
            font-size: 0.75rem;
            color: #6c757d;
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-weight: 500;
        }
        .form-check-input:checked {
            background-color: #198754; /* Success Green */
            border-color: #198754;
        }
        /* Make the radio click areas slightly larger for better UX in a condensed view */
        .form-check-label {
            cursor: pointer;
            padding-top: 3px;
        }
    </style>
</head>
<body class="bg-light">

    <%- include('partials/navbar') %>

    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-9 col-xl-8"> <!-- Slightly wider container to accommodate the grid -->
                
                <div class="card shadow-sm border-0 rounded-3">
                    <div class="card-body p-4 p-md-5">
                        
                        <div class="text-center mb-4">
                            <h2 style="font-family: 'DM Serif Display', serif;">Event Feedback</h2>
                            <p class="text-muted">We value your input! Please rate your experience.</p>
                        </div>

                        <form action="/submit-survey" method="POST">
                            
                            <!-- HIDDEN FIELD: Event ID -->
                            <input type="hidden" name="event_id" value="<%= eventId %>">

                            <!-- Grid Container for Questions -->
                            <div class="row g-4 mb-4">
                                
                                <!-- 1. Satisfaction -->
                                <div class="col-md-6 border-end-md"> <!-- Added border helper for visual separation -->
                                    <div class="p-2">
                                        <label class="rating-label">How satisfied were you?</label>
                                        <div class="scale-labels px-1">
                                            <span>Not Satisfied</span>
                                            <span>Very Satisfied</span>
                                        </div>
                                        <div class="d-flex justify-content-between px-2">
                                            <% for(let i=1; i<=5; i++) { %>
                                                <div class="form-check text-center">
                                                    <input class="form-check-input" type="radio" name="satisfaction" id="sat<%=i%>" value="<%=i%>" required>
                                                    <label class="form-check-label" for="sat<%=i%>"><%=i%></label>
                                                </div>
                                            <% } %>
                                        </div>
                                    </div>
                                </div>

                                <!-- 2. Usefulness -->
                                <div class="col-md-6">
                                    <div class="p-2">
                                        <label class="rating-label">Was the content useful?</label>
                                        <div class="scale-labels px-1">
                                            <span>Not Useful</span>
                                            <span>Very Useful</span>
                                        </div>
                                        <div class="d-flex justify-content-between px-2">
                                            <% for(let i=1; i<=5; i++) { %>
                                                <div class="form-check text-center">
                                                    <input class="form-check-input" type="radio" name="usefulness" id="use<%=i%>" value="<%=i%>" required>
                                                    <label class="form-check-label" for="use<%=i%>"><%=i%></label>
                                                </div>
                                            <% } %>
                                        </div>
                                    </div>
                                </div>

                                <!-- Divider for mobile readability -->
                                <div class="w-100 d-none d-md-block border-bottom my-2"></div>

                                <!-- 3. Instructor -->
                                <div class="col-md-6 border-end-md">
                                    <div class="p-2">
                                        <label class="rating-label">Instructor/Speaker Quality:</label>
                                        <div class="scale-labels px-1">
                                            <span>Poor</span>
                                            <span>Excellent</span>
                                        </div>
                                        <div class="d-flex justify-content-between px-2">
                                            <% for(let i=1; i<=5; i++) { %>
                                                <div class="form-check text-center">
                                                    <input class="form-check-input" type="radio" name="instructor" id="inst<%=i%>" value="<%=i%>" required>
                                                    <label class="form-check-label" for="inst<%=i%>"><%=i%></label>
                                                </div>
                                            <% } %>
                                        </div>
                                    </div>
                                </div>

                                <!-- 4. Recommend (NPS) -->
                                <div class="col-md-6">
                                    <div class="p-2">
                                        <label class="rating-label">Likelihood to recommend?</label>
                                        <div class="scale-labels px-1">
                                            <span>Unlikely</span>
                                            <span>Very Likely</span>
                                        </div>
                                        <div class="d-flex justify-content-between px-2">
                                            <% for(let i=1; i<=5; i++) { %>
                                                <div class="form-check text-center">
                                                    <input class="form-check-input" type="radio" name="recommend" id="rec<%=i%>" value="<%=i%>" required>
                                                    <label class="form-check-label" for="rec<%=i%>"><%=i%></label>
                                                </div>
                                            <% } %>
                                        </div>
                                    </div>
                                </div>

                                <!-- Divider -->
                                <div class="w-100 d-none d-md-block border-bottom my-2"></div>

                                <!-- 5. Overall -->
                                <div class="col-md-12">
                                    <div class="p-2">
                                        <label class="rating-label">Overall Experience:</label>
                                        <div class="scale-labels px-1" style="max-width: 50%;"> <!-- Constrain width slightly for aesthetics since it's full width now -->
                                            <span>Poor</span>
                                            <span>Great</span>
                                        </div>
                                        <div class="d-flex justify-content-between px-2" style="max-width: 50%;">
                                            <% for(let i=1; i<=5; i++) { %>
                                                <div class="form-check text-center">
                                                    <input class="form-check-input" type="radio" name="overall" id="ovr<%=i%>" value="<%=i%>" required>
                                                    <label class="form-check-label" for="ovr<%=i%>"><%=i%></label>
                                                </div>
                                            <% } %>
                                        </div>
                                    </div>
                                </div>

                            </div> <!-- End Grid Row -->

                            <!-- 7. Comments -->
                            <div class="mb-4 bg-light p-3 rounded">
                                <label for="comments" class="form-label fw-bold">Additional Comments</label>
                                <textarea class="form-control" name="comments" id="comments" rows="3" placeholder="Is there anything else you'd like to tell us?"></textarea>
                            </div>

                            <!-- Buttons -->
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <a href="/events" class="btn btn-outline-secondary px-4 me-md-2">Cancel</a>
                                <button type="submit" class="btn btn-success px-4">Submit Feedback</button>
                            </div>

                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>